base_url = "https://bold.casa"
title = "bold.casa"
description = "Workshop of John Rembold — builder, maker, inventor."
author = "John Rembold"
default_language = "en"
theme = "tabi"

compile_sass = true
minify_html = true
build_search_index = true
generate_feeds = true
feed_filenames = ["atom.xml", "rss.xml"]

taxonomies = [
    { name = "tags", feed = true },
]

[markdown]
highlight_code = true
highlight_theme = "css"
smart_punctuation = true
external_links_target_blank = true
external_links_no_follow = false
external_links_no_referrer = true

[extra]
author = "John Rembold"
skin = "monochrome"
# restrained, editorial look for better readability + perceived professionalism
theme_switcher = true
default_theme = "dark"

# Menu configuration (Tabi uses 'menu', not 'navbar_items')
menu = [
    { name = "Now", url = "now", trailing_slash = true },
    { name = "Projects", url = "projects", trailing_slash = true },
    { name = "Blog", url = "blog", trailing_slash = true },
]

socials = [
    { name = "github", url = "https://github.com/jbold", icon = "github" },
]

stylesheets = ["custom.css"]

# Tabi settings
show_reading_time = true
show_date = true
copy_button = true
email = "jr@bold.casa"
encode_plaintext_email = false
copyright = "$TITLE © $CURRENT_YEAR $AUTHOR"

# CSP: allow Cloudflare analytics
enable_csp = true
allowed_domains = [
    { directive = "font-src", domains = ["'self'", "data:"] },
    { directive = "img-src", domains = ["'self'", "https://*", "data:"] },
    { directive = "script-src", domains = ["'self'", "static.cloudflareinsights.com"] },
    { directive = "style-src", domains = ["'self'"] },
    { directive = "connect-src", domains = ["'self'", "cloudflareinsights.com"] },
]
