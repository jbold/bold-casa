{% extends "base.html" %}

{% block title %}{{ section.title }} — {{ config.title }}{% endblock %}
{% block description %}{{ section.description | default(value=config.description) }}{% endblock %}

{% block content %}
<h1>{{ section.title }}</h1>
{% if section.description %}
<p class="section-desc">{{ section.description }}</p>
{% endif %}

{{ section.content | safe }}

{% if paginator %}
{% set pages = paginator.pages %}
{% else %}
{% set pages = section.pages %}
{% endif %}

{% for page in pages %}
<article class="post-preview">
    <time datetime="{{ page.date }}">{{ page.date | date(format="%B %e, %Y") }}</time>
    <h3><a href="{{ page.permalink }}">{{ page.title }}</a></h3>
    {% if page.description %}
    <p>{{ page.description }}</p>
    {% endif %}
    {% if page.taxonomies.tags %}
    <div class="tags">
        {% for tag in page.taxonomies.tags %}
        <span class="tag">{{ tag }}</span>
        {% endfor %}
    </div>
    {% endif %}
</article>
{% endfor %}

{% if paginator %}
<nav class="pagination">
    {% if paginator.previous %}
    <a href="{{ paginator.previous }}">← Newer</a>
    {% endif %}
    {% if paginator.next %}
    <a href="{{ paginator.next }}">Older →</a>
    {% endif %}
</nav>
{% endif %}
{% endblock %}
